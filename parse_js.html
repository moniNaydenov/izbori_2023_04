<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JS parser</title>
    <!-- original url : https://results.cik.bg/ns2023/protokoli/data.js?490373fa791466a2761b172a3f27a94ajkljlj -->
    <script src="data/protokoli.js"></script>
</head>
<body>
<div id="results">

</div>

    <script type="text/javascript">

    const protodata = window.HAS_PROTO["64"];

    let i = 0;
    const sourceurl = 'https://results.cik.bg/ns2023/protokoli/64/';
    const results = document.getElementById('results');
    let resultsHTML = '';
    let count = 0;
    for (let areaid in protodata) {
        let addzeroArea = '';
        let areaidint = parseInt(areaid);
        if (areaidint < 10) {
            addzeroArea = '0';
        }
        for (let sikid in protodata[areaid]) {
            let addzeroSik = '';
            let sikidint = parseInt(sikid);
            if (sikidint < 100000) {
                addzeroSik = '00';
            } else if (sikidint < 1000000) {
                addzeroSik = '0';
            }
            let sikurl = sourceurl + addzeroArea + areaidint.toString() + '/' + addzeroArea + areaidint.toString() + addzeroSik + sikidint.toString();
            if (protodata[areaid][sikid][1] === 24 || protodata[areaid][sikid][1] === 28) { // only paper based
                resultsHTML += '<a href="' + sikurl + '.1.html">' + sikurl + '.1.html</a><br>';
                //console.log('sikurl', sikurl + '.1.html');
                count += 1;
            } else if ((protodata[areaid][sikid][1] === 26 && protodata[areaid][sikid][2] === 32) ||
                (protodata[areaid][sikid][1] === 30 && protodata[areaid][sikid][2] === 41)
            ) { // paper and machine based
                resultsHTML += '<a href="' + sikurl + '.1.html">' + sikurl + '.1.html</a><br>';
                resultsHTML += '<a href="' + sikurl + '.2.html">' + sikurl + '.2.html</a><br>';
                //console.log('sikurl', sikurl + '.1.html', sikurl + '.2.html');
                count += 2;
            } else { // error in machine data
                resultsHTML += '<a href="' + sikurl + '.1.html">' + sikurl + '.1.html</a><br>';
                //console.log(areaid, sikid, protodata[areaid][sikid], 'ERROR');
                count += 1;
            }
        }
    }
    results.innerHTML = resultsHTML;
    console.log('count', count);
    alert("Save the urls in data/urls.txt");
    </script>
</body>
</html>